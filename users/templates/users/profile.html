{% extends "blog/base.html" %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <div class="avatar-container">
            <img src="{{ user.profile.image.url }}" alt="Avatar" class="avatar">
            {% if overdue_count > 0 %}
                <span class="overdue-badge">{{ overdue_count }}</span>
            {% endif %}
        </div>
        <h2 class="username">{{ user.username }}</h2>
        <p class="task-info">Số công việc trễ hạn: {{ overdue_count }}</p>
    </div>

    <div class="profile-details">
        <form action="" method="POST" enctype="multipart/form-data" class="profile-form">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn-save">Lưu</button>
        </form>
    </div>
</div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        const avatar = document.querySelector('.avatar');
        avatar.addEventListener('mouseover', function() {
            this.style.transform = 'scale(1.1)';
            this.style.transition = '0.3s';
        });
        avatar.addEventListener('mouseout', function() {
            this.style.transform = 'scale(1)';
        });
    });
</script>
{% endblock %}
